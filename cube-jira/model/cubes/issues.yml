cubes:
- name: issues
  sql_table: public.issues
  title: Issues
  description: Таблица issues
  joins:
  - name: projects
    sql: '{CUBE}.project_id = {projects}.id'
    relationship: many_to_one
  - name: issues
    sql: '{CUBE}.parent_id = {issues}.id'
    relationship: many_to_one
  - name: issue_types
    sql: '{CUBE}.issue_type_id = {issue_types}.id'
    relationship: many_to_one
  - name: workflow_statuses
    sql: '{CUBE}.status_id = {workflow_statuses}.id'
    relationship: many_to_one
  - name: issue_priorities
    sql: '{CUBE}.priority_id = {issue_priorities}.id'
    relationship: many_to_one
  - name: issue_resolutions
    sql: '{CUBE}.resolution_id = {issue_resolutions}.id'
    relationship: many_to_one
  - name: sprints
    sql: '{CUBE}.sprint_id = {sprints}.id'
    relationship: many_to_one
  - name: users_reporter
    sql: '{CUBE}.reporter_id = {users_reporter}.id'
    relationship: many_to_one
  - name: users_assignee
    sql: '{CUBE}.assignee_id = {users_assignee}.id'
    relationship: many_to_one
  dimensions:
  - name: id
    sql: id
    type: number
    primary_key: true
    title: id
    description: id (integer)
  - name: key
    sql: key
    type: string
    title: Key
    description: key (character varying)
  - name: summary
    sql: summary
    type: string
    title: Summary
    description: summary (character varying)
  - name: description
    sql: description
    type: string
    title: Description
    description: description (text)
  - name: story_points
    sql: story_points
    type: number
    title: Story Points
    description: story_points (integer)
  - name: original_estimate
    sql: original_estimate
    type: number
    title: Original Estimate
    description: original_estimate (integer)
  - name: remaining_estimate
    sql: remaining_estimate
    type: number
    title: Remaining Estimate
    description: remaining_estimate (integer)
  - name: time_spent
    sql: time_spent
    type: number
    title: Time Spent
    description: time_spent (integer)
  - name: due_date
    sql: due_date
    type: time
    title: Due Date
    description: due_date (date)
  - name: environment
    sql: environment
    type: string
    title: Environment
    description: environment (text)
  - name: security_level
    sql: security_level
    type: number
    title: Security Level
    description: security_level (integer)
  - name: is_flagged
    sql: is_flagged
    type: boolean
    title: Is Flagged
    description: is_flagged (boolean)
  - name: created_at
    sql: created_at
    type: time
    title: Created At
    description: created_at (timestamp without time zone)
  - name: updated_at
    sql: updated_at
    type: time
    title: Updated At
    description: updated_at (timestamp without time zone)
  - name: resolved_at
    sql: resolved_at
    type: time
    title: Resolved At
    description: resolved_at (timestamp without time zone)
  measures:
  - name: count
    type: count
    title: Количество
    description: Общее количество записей в таблице Issues
  - name: total_story_points
    sql: story_points
    type: sum
    title: Сумма Story Points
    description: Сумма значений поля story_points
  - name: avg_story_points
    sql: story_points
    type: avg
    title: Среднее Story Points
    description: Среднее значение поля story_points
  - name: total_original_estimate
    sql: original_estimate
    type: sum
    title: Сумма Original Estimate
    description: Сумма значений поля original_estimate
  - name: avg_original_estimate
    sql: original_estimate
    type: avg
    title: Среднее Original Estimate
    description: Среднее значение поля original_estimate
  - name: total_remaining_estimate
    sql: remaining_estimate
    type: sum
    title: Сумма Remaining Estimate
    description: Сумма значений поля remaining_estimate
  - name: avg_remaining_estimate
    sql: remaining_estimate
    type: avg
    title: Среднее Remaining Estimate
    description: Среднее значение поля remaining_estimate
  - name: total_time_spent
    sql: time_spent
    type: sum
    title: Сумма Time Spent
    description: Сумма значений поля time_spent
  - name: avg_time_spent
    sql: time_spent
    type: avg
    title: Среднее Time Spent
    description: Среднее значение поля time_spent
  - name: total_security_level
    sql: security_level
    type: sum
    title: Сумма Security Level
    description: Сумма значений поля security_level
  - name: avg_security_level
    sql: security_level
    type: avg
    title: Среднее Security Level
    description: Среднее значение поля security_level
  - name: open_count
    sql: CASE WHEN {CUBE}.resolution IS NULL THEN 1 END
    type: count
    title: Открытые задачи
    description: Количество нерешённых задач
  - name: resolved_count
    sql: CASE WHEN {CUBE}.resolution IS NOT NULL THEN 1 END
    type: count
    title: Закрытые задачи
    description: Количество решённых задач
